<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bookmarklet - Quick Frame Extractor</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            min-height: 100vh;
            padding: 40px 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        h1 {
            color: #f5576c;
            margin-bottom: 10px;
            font-size: 2.5rem;
            text-align: center;
        }

        .subtitle {
            color: #666;
            margin-bottom: 40px;
            font-size: 1.2rem;
            text-align: center;
        }

        .hero {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 16px;
            margin-bottom: 40px;
            text-align: center;
        }

        .hero h2 {
            font-size: 1.8rem;
            margin-bottom: 15px;
        }

        .hero p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .step {
            background: #f9fafb;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
        }

        .step-number {
            display: inline-block;
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 40px;
            font-weight: bold;
            font-size: 1.2rem;
            margin-right: 15px;
        }

        .step h3 {
            display: inline-block;
            color: #111;
            font-size: 1.3rem;
            margin-bottom: 15px;
        }

        .bookmarklet-box {
            background: #1e1e1e;
            color: #4ec9b0;
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.95rem;
            word-break: break-all;
            cursor: pointer;
            transition: all 0.3s;
            border: 3px dashed #4ec9b0;
        }

        .bookmarklet-box:hover {
            background: #2d2d2d;
            border-color: #f5576c;
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(245, 87, 108, 0.3);
        }

        .bookmarklet-link {
            display: inline-block;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 15px 40px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: bold;
            font-size: 1.1rem;
            margin: 20px 0;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(245, 87, 108, 0.3);
        }

        .bookmarklet-link:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 25px rgba(245, 87, 108, 0.5);
        }

        .alert {
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            font-weight: 500;
        }

        .alert-info {
            background: #dbeafe;
            color: #1e40af;
            border: 2px solid #3b82f6;
        }

        .alert-warning {
            background: #fef3c7;
            color: #92400e;
            border: 2px solid #f59e0b;
        }

        .alert-success {
            background: #d1fae5;
            color: #065f46;
            border: 2px solid #10b981;
        }

        .button-group {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 30px 0;
        }

        button {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-primary {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(245, 87, 108, 0.4);
        }

        .gif-demo {
            width: 100%;
            max-width: 600px;
            margin: 20px auto;
            display: block;
            border-radius: 12px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.2);
        }

        code {
            background: #f1f5f9;
            padding: 3px 8px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: #f5576c;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .feature-card {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s;
        }

        .feature-card:hover {
            border-color: #f5576c;
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(245, 87, 108, 0.2);
        }

        .feature-card .icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        .feature-card h4 {
            color: #111;
            margin-bottom: 10px;
            font-size: 1.2rem;
        }

        .feature-card p {
            color: #666;
            font-size: 0.95rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>‚ö° Quick Frame Extractor</h1>
        <p class="subtitle">Bookmarklet - Extract frames ch·ªâ v·ªõi 1 click!</p>

        <div class="hero">
            <h2>üöÄ C√°ch nhanh nh·∫•t ƒë·ªÉ l·∫•y frames!</h2>
            <p>K√©o button b√™n d∆∞·ªõi v√†o bookmark bar ‚Üí 1 click l√† xong!</p>
        </div>

        <div class="step">
            <span class="step-number">1</span>
            <h3>Th√™m Bookmarklet</h3>
            <p style="margin: 15px 0 0 55px; color: #666;">
                <strong>Ch·ªçn 1 trong 2 c√°ch:</strong>
            </p>
            
            <div style="margin: 20px 0 0 55px;">
                <div class="alert alert-info">
                    <strong>C√°ch 1: K√©o th·∫£ (Drag & Drop)</strong>
                    <p style="margin-top: 10px;">K√©o button b√™n d∆∞·ªõi l√™n bookmark bar c·ªßa tr√¨nh duy·ªát:</p>
                </div>
            </div>
            <div style="text-align: center; margin: 25px 0;">
                <a href="#" id="bookmarklet" class="bookmarklet-link" draggable="true">
                    üé® Extract Frames
                </a>
            </div>
            
            <div style="margin: 20px 0 0 55px;">
                <div class="alert alert-info">
                    <strong>C√°ch 2: Copy & Paste (N·∫øu k√©o th·∫£ kh√¥ng ƒë∆∞·ª£c)</strong>
                    <ol style="margin-top: 10px; line-height: 1.8;">
                        <li>Click v√†o box b√™n d∆∞·ªõi ƒë·ªÉ copy code</li>
                        <li>Right-click v√†o bookmark bar ‚Üí "Add page" / "Add bookmark"</li>
                        <li>Name: <code>Extract Frames</code></li>
                        <li>URL: Paste code v·ª´a copy</li>
                        <li>Save!</li>
                    </ol>
                </div>
            </div>
            <div class="bookmarklet-box" id="bookmarkletCode">
                Click to copy bookmarklet code...
            </div>
            <div class="alert alert-warning">
                <strong>üí° L∆∞u √Ω:</strong> N·∫øu kh√¥ng th·∫•y thanh bookmark, nh·∫•n <code>Ctrl+Shift+B</code> (Windows) ho·∫∑c <code>Cmd+Shift+B</code> (Mac) ƒë·ªÉ hi·ªán.
            </div>
        </div>

        <div class="step">
            <span class="step-number">2</span>
            <h3>S·ª≠ d·ª•ng Bookmarklet</h3>
            <p style="margin: 15px 0 0 55px; color: #666;">
                L√†m theo c√°c b∆∞·ªõc:
            </p>
            <ol style="margin: 15px 0 0 75px; line-height: 2;">
                <li>M·ªü <a href="https://photo.freehihi.com/viewframe" target="_blank">https://photo.freehihi.com/viewframe</a></li>
                <li><strong>Scroll xu·ªëng h·∫øt</strong> ƒë·ªÉ load t·∫•t c·∫£ frames (lazy loading)</li>
                <li>Click v√†o bookmarklet <strong>"Extract Frames"</strong> trong bookmark bar</li>
                <li>JSON s·∫Ω t·ª± ƒë·ªông copy v√†o clipboard!</li>
            </ol>
        </div>

        <div class="step">
            <span class="step-number">3</span>
            <h3>Import v√†o Photobooth</h3>
            <p style="margin: 15px 0 0 55px; color: #666;">
                Ho√†n t·∫•t vi·ªác import:
            </p>
            <div class="button-group">
                <button class="btn-primary" onclick="openFrameManager()">
                    üì• M·ªü Frame Manager
                </button>
            </div>
            <ol style="margin: 15px 0 0 75px; line-height: 2;">
                <li>Paste JSON v√†o √¥ input</li>
                <li>Nh·∫•n "Import Frames"</li>
                <li>Xong! Frames ƒë√£ s·∫µn s√†ng s·ª≠ d·ª•ng!</li>
            </ol>
        </div>

        <div class="alert alert-success">
            <strong>‚ú® T√≠nh nƒÉng:</strong>
            <div class="feature-grid">
                <div class="feature-card">
                    <div class="icon">‚ö°</div>
                    <h4>Si√™u nhanh</h4>
                    <p>Ch·ªâ 1 click, kh√¥ng c·∫ßn Console</p>
                </div>
                <div class="feature-card">
                    <div class="icon">üéØ</div>
                    <h4>Ch√≠nh x√°c</h4>
                    <p>T·ª± ƒë·ªông l·ªçc v√† lo·∫°i b·ªè tr√πng l·∫∑p</p>
                </div>
                <div class="feature-card">
                    <div class="icon">üìã</div>
                    <h4>Auto Copy</h4>
                    <p>T·ª± ƒë·ªông copy v√†o clipboard</p>
                </div>
                <div class="feature-card">
                    <div class="icon">üíæ</div>
                    <h4>Backup</h4>
                    <p>Auto download n·∫øu kh√¥ng copy ƒë∆∞·ª£c</p>
                </div>
            </div>
        </div>

        <div class="alert alert-info">
            <strong>üîß Alternative:</strong> N·∫øu kh√¥ng mu·ªën d√πng bookmarklet, b·∫°n v·∫´n c√≥ th·ªÉ d√πng 
            <a href="frame-extractor.html">Frame Extractor Tool</a> truy·ªÅn th·ªëng.
        </div>
    </div>

    <script>
        // Bookmarklet code - compact v√† optimized
        const bookmarkletCode = `javascript:(function(){
var f=[];
var s=new Set();
var imgs=document.querySelectorAll('img[src*="cdn.freehihi.com"]');
imgs.forEach(function(img){
var u=img.src;
if(!s.has(u)&&u.toLowerCase().endsWith('.png')){
s.add(u);
f.push({name:img.alt||img.title||'Frame '+(f.length+1),url:u,index:f.length});
}
});
if(f.length>0){
var json=JSON.stringify(f,null,2);
navigator.clipboard.writeText(json).then(function(){
alert('‚úÖ Copied '+f.length+' frames!\\n\\nPaste in Frame Manager to import.');
}).catch(function(){
var blob=new Blob([json],{type:'application/json'});
var url=URL.createObjectURL(blob);
var a=document.createElement('a');
a.href=url;
a.download='frames-'+Date.now()+'.json';
a.click();
URL.revokeObjectURL(url);
alert('‚úÖ Downloaded '+f.length+' frames!\\n\\nOpen JSON file and paste in Frame Manager.');
});
}else{
alert('‚ö†Ô∏è No frames found!\\n\\nPlease scroll down to load all frames first.');
}
})();`;

        // Set bookmarklet href
        document.addEventListener('DOMContentLoaded', function() {
            const link = document.getElementById('bookmarklet');
            const codeBox = document.getElementById('bookmarkletCode');
            
            // Set href
            link.href = bookmarkletCode;
            
            // Show code in box
            codeBox.textContent = bookmarkletCode;
            codeBox.style.fontSize = '0.85rem';
            codeBox.style.maxHeight = '150px';
            codeBox.style.overflow = 'auto';
            
            // Copy code on click
            codeBox.addEventListener('click', function() {
                navigator.clipboard.writeText(bookmarkletCode).then(function() {
                    codeBox.style.background = '#10b981';
                    codeBox.style.color = 'white';
                    codeBox.textContent = '‚úÖ Copied! Now create a new bookmark and paste this as URL.';
                    setTimeout(function() {
                        codeBox.style.background = '#1e1e1e';
                        codeBox.style.color = '#4ec9b0';
                        codeBox.textContent = bookmarkletCode;
                    }, 2000);
                }).catch(function() {
                    alert('Copy failed. Please select and copy manually.');
                });
            });
            
            // Show instructions on drag
            link.addEventListener('dragstart', function(e) {
                e.dataTransfer.effectAllowed = 'link';
                showDragFeedback();
            });
        });
        
        function showDragFeedback() {
            const alert = document.createElement('div');
            alert.className = 'alert alert-success';
            alert.innerHTML = '<strong>üëç Perfect!</strong> Release the button on your bookmark bar!';
            alert.style.position = 'fixed';
            alert.style.top = '20px';
            alert.style.left = '50%';
            alert.style.transform = 'translateX(-50%)';
            alert.style.zIndex = '9999';
            alert.style.animation = 'fadeIn 0.3s';
            document.body.appendChild(alert);
            setTimeout(function() {
                alert.remove();
            }, 3000);
        }

        function openFrameManager() {
            window.open('frame-manager.html', '_blank');
        }
    </script>
</body>
</html>
